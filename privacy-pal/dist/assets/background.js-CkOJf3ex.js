chrome.runtime.onMessage.addListener((o,c,s)=>{if(console.log("Inside background.js"),o.linkFound){const r=`http://localhost:3000/scrape?url=${encodeURIComponent(o.url)}`;return console.log("Fetching:",r),fetch(r).then(e=>e.json()).then(e=>{console.log("Scraped data and summary received:",e),console.log("sum list: ",e.summary_list),chrome.storage.local.set({scrapedData:e.data,summary:e.summary,summary_list:e.summary_list}),console.log(chrome.storage.local)}).catch(e=>{console.error("Error fetching scrape data:",e),s({data:"Error: "+e.message})}),!0}});
