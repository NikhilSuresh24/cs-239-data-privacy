(()=>{"use strict";chrome.runtime.onMessage.addListener(((e,o,r)=>{if(console.log("Inside background.js"),e.linkFound){const o=`http://localhost:3000/scrape?url=${encodeURIComponent(e.url)}`;return console.log("Fetching:",o),fetch(o).then((e=>e.json())).then((e=>{console.log("Scraped data and summary received:",e),chrome.storage.local.set({scrapedData:e.data,summary:e.summary}),chrome.action.setPopup({popup:"hello.html"})})).catch((e=>{console.error("Error fetching scrape data:",e),r({data:"Error: "+e.message})})),chrome.action.openPopup(),!0}}))})();